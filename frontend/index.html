<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Library - Sosyal K√ºt√ºphane Platformu</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <div class="logo">
                <span class="logo-icon">üìö</span>
                <span class="logo-text">Web Library</span>
            </div>
            <div class="nav-menu">
                <a href="#" class="nav-link" data-page="home">Ana Sayfa</a>
                <a href="#" class="nav-link" data-page="explore">Ke≈üfet</a>
                <a href="#" class="nav-link" data-page="library">K√ºt√ºphanem</a>
                <a href="#" class="nav-link" data-page="profile">Profil</a>
            </div>
            <div class="nav-actions">
                <div class="search-box">
                    <input type="text" id="nav-search" placeholder="Film veya kitap ara...">
                    <button class="search-btn" id="nav-search-btn">üîç</button>
                </div>
                <button class="btn btn-primary" id="logout-btn">√áƒ±kƒ±≈ü</button>
            </div>
        </div>
    </nav>

    <!-- Auth Pages -->
    <div id="auth-page" class="page active">
        <div class="auth-container">
            <div class="auth-box">
                <div class="auth-header">
                    <div class="logo-large">
                        <span class="logo-icon">üìö</span>
                        <h1>Web Library</h1>
                    </div>
                    <p class="auth-subtitle">Ki≈üisel k√ºt√ºphaneni olu≈ütur, ke≈üfet, payla≈ü</p>
                </div>

                <!-- Login Form -->
                <div id="login-form" class="auth-form">
                    <h2>Giri≈ü Yap</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label>E-posta</label>
                            <input type="email" id="login-email" required autocomplete="email">
                        </div>
                        <div class="form-group">
                            <label>≈ûifre</label>
                            <input type="password" id="login-password" required autocomplete="current-password" minlength="6">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Giri≈ü Yap</button>
                    </form>
                    <p class="auth-switch">
                        <a href="#" id="show-forgot-password">≈ûifremi Unuttum</a>
                    </p>
                    <p class="auth-switch">
                        Hesabƒ±n yok mu? <a href="#" id="show-register">Kayƒ±t Ol</a>
                    </p>
                </div>

                <!-- Register Form -->
                <div id="register-form" class="auth-form" style="display: none;">
                    <h2>Kayƒ±t Ol</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label>Kullanƒ±cƒ± Adƒ±</label>
                            <input type="text" id="register-username" required minlength="3" maxlength="50" autocomplete="username">
                        </div>
                        <div class="form-group">
                            <label>E-posta</label>
                            <input type="email" id="register-email" required autocomplete="email">
                        </div>
                        <div class="form-group">
                            <label>≈ûifre (en az 6 karakter)</label>
                            <input type="password" id="register-password" required minlength="6" autocomplete="new-password">
                        </div>
                        <div class="form-group">
                            <label>≈ûifre Tekrar</label>
                            <input type="password" id="register-password-confirm" required minlength="6" autocomplete="new-password">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Kayƒ±t Ol</button>
                    </form>
                    <p class="auth-switch">
                        Zaten hesabƒ±n var mƒ±? <a href="#" id="show-login">Giri≈ü Yap</a>
                    </p>
                </div>

                <!-- Forgot Password Form -->
                <div id="forgot-password-form" class="auth-form" style="display: none;">
                    <h2>≈ûifremi Unuttum</h2>
                    <p class="auth-subtitle">E-posta adresinizi girin, size ≈üifre sƒ±fƒ±rlama linki g√∂nderelim.</p>
                    <form id="forgotPasswordForm">
                        <div class="form-group">
                            <label>E-posta</label>
                            <input type="email" id="forgot-email" required autocomplete="email">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Sƒ±fƒ±rlama Linki G√∂nder</button>
                    </form>
                    <p class="auth-switch">
                        <a href="#" id="back-to-login">Giri≈ü Sayfasƒ±na D√∂n</a>
                    </p>
                </div>

                <!-- Reset Password Form (Token ile) -->
                <div id="reset-password-form" class="auth-form" style="display: none;">
                    <h2>Yeni ≈ûifre Belirle</h2>
                    <p class="auth-subtitle">Hesabƒ±nƒ±z i√ßin yeni bir ≈üifre olu≈üturun.</p>
                    <form id="resetPasswordForm">
                        <div class="form-group">
                            <label>Yeni ≈ûifre (en az 6 karakter)</label>
                            <input type="password" id="reset-password" required minlength="6" autocomplete="new-password">
                        </div>
                        <div class="form-group">
                            <label>Yeni ≈ûifre Tekrar</label>
                            <input type="password" id="reset-password-confirm" required minlength="6" autocomplete="new-password">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">≈ûifremi G√ºncelle</button>
                    </form>
                    <p class="auth-switch">
                        <a href="#" id="back-to-login-from-reset">Giri≈ü Sayfasƒ±na D√∂n</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Home Page (Social Feed) -->
    <div id="home-page" class="page">
        <div class="container main-container">
            <h2 class="page-title" style="text-align: center; margin-bottom: 2rem;">üì± Sosyal Akƒ±≈ü</h2>
            <div class="feed-container">
                <div id="feed-list" class="feed-list">
                    <div class="loading">Y√ºkleniyor...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Explore Page -->
    <div id="explore-page" class="page">
        <div class="container main-container">
            <h2 class="page-title">Ke≈üfet</h2>
            
            <div class="explore-tabs">
                <button class="tab-btn active" data-tab="movies">üé¨ Filmler</button>
                <button class="tab-btn" data-tab="books">üìö Kitaplar</button>
            </div>

            <div class="search-section">
                <div class="search-box-large">
                    <input type="text" id="explore-search" placeholder="Ara...">
                    <button class="btn btn-primary" id="explore-search-btn">Ara</button>
                </div>
            </div>

            <!-- Geli≈ümi≈ü Filtreleme -->
            <div class="filters-container">
                <div class="filter-header">
                    <h3>üîç Geli≈ümi≈ü Filtreleme</h3>
                    <button class="btn btn-secondary" id="toggle-filters-btn">Filtreleri G√∂ster/Gizle</button>
                </div>
                <div class="filters-panel" id="filters-panel" style="display: none;">
                    <div class="filter-group">
                        <label>üé≠ T√ºr:</label>
                        <select id="filter-genre" class="filter-select">
                            <option value="">T√ºm√º</option>
                            <option value="28">Aksiyon</option>
                            <option value="12">Macera</option>
                            <option value="16">Animasyon</option>
                            <option value="35">Komedi</option>
                            <option value="80">Su√ß</option>
                            <option value="99">Belgesel</option>
                            <option value="18">Drama</option>
                            <option value="10751">Aile</option>
                            <option value="14">Fantastik</option>
                            <option value="36">Tarih</option>
                            <option value="27">Korku</option>
                            <option value="10402">M√ºzik</option>
                            <option value="9648">Gizem</option>
                            <option value="10749">Romantik</option>
                            <option value="878">Bilim Kurgu</option>
                            <option value="10770">TV Film</option>
                            <option value="53">Gerilim</option>
                            <option value="10752">Sava≈ü</option>
                            <option value="37">Western</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>üìÖ Yƒ±l:</label>
                        <div class="year-range">
                            <input type="number" id="filter-year-min" placeholder="Min" min="1900" max="2025" class="filter-input">
                            <span>-</span>
                            <input type="number" id="filter-year-max" placeholder="Max" min="1900" max="2025" class="filter-input">
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>‚≠ê Minimum Puan:</label>
                        <select id="filter-rating" class="filter-select">
                            <option value="">T√ºm√º</option>
                            <option value="9">9+ M√ºkemmel</option>
                            <option value="8">8+ √áok ƒ∞yi</option>
                            <option value="7">7+ ƒ∞yi</option>
                            <option value="6">6+ Orta</option>
                            <option value="5">5+ Vasat</option>
                        </select>
                    </div>
                    
                    <div class="filter-actions">
                        <button class="btn btn-primary" id="apply-filters-btn">Uygula</button>
                        <button class="btn btn-secondary" id="clear-filters-btn">Temizle</button>
                    </div>
                </div>
            </div>

            <!-- Vitrin Mod√ºlleri -->
            <div class="showcase-section" id="showcase-section">
                <div class="showcase-module">
                    <h3>üî• En Pop√ºler Filmler</h3>
                    <div id="popular-movies-carousel" class="showcase-carousel">
                        <div class="loading">Y√ºkleniyor...</div>
                    </div>
                </div>
                
                <div class="showcase-module">
                    <h3>‚≠ê En Y√ºksek Puanlƒ± Filmler</h3>
                    <div id="top-rated-movies-carousel" class="showcase-carousel">
                        <div class="loading">Y√ºkleniyor...</div>
                    </div>
                </div>
            </div>

            <div id="explore-content" class="content-grid">
                <div class="loading">Pop√ºler i√ßerikler y√ºkleniyor...</div>
            </div>
        </div>
    </div>

    <!-- Library Page -->
    <div id="library-page" class="page">
        <div class="container main-container">
            <h2 class="page-title">K√ºt√ºphanem</h2>
            
            <div class="library-tabs">
                <button class="tab-btn active" data-status="all">T√ºm√º</button>
                <button class="tab-btn" data-status="watched">ƒ∞zlediklerim</button>
                <button class="tab-btn" data-status="to_watch">ƒ∞zlenecekler</button>
                <button class="tab-btn" data-status="read">Okuduklarƒ±m</button>
                <button class="tab-btn" data-status="to_read">Okunacaklar</button>
            </div>

            <div id="library-content" class="content-grid">
                <div class="loading">K√ºt√ºphane y√ºkleniyor...</div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile-page" class="page">
        <div class="container main-container">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <span id="profile-avatar-text">üë§</span>
                    </div>
                    <div class="profile-info">
                        <h2 id="profile-username">-</h2>
                        <p id="profile-email">-</p>
                        <p id="profile-bio" class="profile-bio">-</p>
                    </div>
                    <div class="profile-actions">
                        <button class="btn btn-secondary" id="edit-profile-btn" style="display: none;">Profili D√ºzenle</button>
                        <button class="btn btn-primary" id="follow-btn" style="display: none;">üë• Takip Et</button>
                        <button class="btn btn-secondary" id="unfollow-btn" style="display: none;">‚úì Takip Ediliyor</button>
                    </div>
                </div>

                <div class="profile-stats">
                    <div class="stat-card">
                        <span class="stat-value" id="stat-ratings">0</span>
                        <span class="stat-label">Puanlama</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="stat-reviews">0</span>
                        <span class="stat-label">Yorum</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="stat-library">0</span>
                        <span class="stat-label">K√ºt√ºphane</span>
                    </div>
                </div>

                <!-- K√ºt√ºphane B√∂l√ºm√º (Sekmeli) -->
                <div class="profile-library-section">
                    <h3>üìö K√ºt√ºphanem</h3>
                    <div class="library-tabs">
                        <button class="tab-btn active" data-status="all">T√ºm√º</button>
                        <button class="tab-btn" data-status="watched">üé¨ ƒ∞zlediklerim</button>
                        <button class="tab-btn" data-status="to_watch">üì∫ ƒ∞zlenecekler</button>
                        <button class="tab-btn" data-status="read">üìñ Okuduklarƒ±m</button>
                        <button class="tab-btn" data-status="to_read">üìö Okunacaklar</button>
                    </div>
                    <div id="profile-library-content" class="content-grid" style="margin-bottom: 3rem;">
                        <div class="loading">K√ºt√ºphane y√ºkleniyor...</div>
                    </div>
                </div>

                <div class="profile-custom-lists">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="margin: 0;">üìù √ñzel Listeler</h3>
                        <button class="btn btn-primary" id="create-list-btn" style="display: none;">
                            ‚ûï Yeni Liste
                        </button>
                    </div>
                    <div id="profile-lists-container" class="content-grid" style="margin-bottom: 3rem;">
                        <div class="loading">Y√ºkleniyor...</div>
                    </div>
                </div>

                <div class="profile-activities">
                    <h3>Son Aktiviteler</h3>
                    <div id="profile-activities-list" class="feed-list">
                        <div class="loading">Y√ºkleniyor...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Detail Modal -->
    <div id="content-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modal-body" class="modal-body">
                <div class="loading">Y√ºkleniyor...</div>
            </div>
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="comment-modal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-modal" onclick="closeCommentModal()">&times;</span>
            <div class="modal-body">
                <h2>üí¨ Yorum Yap</h2>
                <form id="commentForm" onsubmit="submitComment(event)">
                    <div class="form-group">
                        <label>Yorumunuz</label>
                        <textarea id="comment-text" placeholder="Bu i√ßerik hakkƒ±nda ne d√º≈ü√ºn√ºyorsunuz?" required minlength="5" rows="5" style="width: 100%; padding: 1rem; border: 2px solid var(--border-color); border-radius: 0.5rem; background: var(--darker-bg); color: var(--text-primary); font-size: 1rem; resize: vertical;"></textarea>
                    </div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            üí¨ Yorum Yap
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="closeCommentModal()">
                            ƒ∞ptal
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div id="share-modal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-modal" onclick="closeShareModal()">&times;</span>
            <div class="modal-body">
                <h2>üì§ Payla≈ü</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Bu i√ßeriƒüi payla≈ümak i√ßin a≈üaƒüƒ±daki se√ßenekleri kullanabilirsiniz:</p>
                
                <div class="share-options">
                    <button class="share-btn" onclick="copyShareLink()">
                        <span style="font-size: 1.5rem;">üîó</span>
                        <span>Linki Kopyala</span>
                    </button>
                    <button class="share-btn" onclick="shareToTwitter()">
                        <span style="font-size: 1.5rem;">üê¶</span>
                        <span>Twitter'da Payla≈ü</span>
                    </button>
                    <button class="share-btn" onclick="shareToWhatsApp()">
                        <span style="font-size: 1.5rem;">üíö</span>
                        <span>WhatsApp'ta Payla≈ü</span>
                    </button>
                    <button class="share-btn" onclick="shareToFacebook()">
                        <span style="font-size: 1.5rem;">üìò</span>
                        <span>Facebook'ta Payla≈ü</span>
                    </button>
                </div>
                
                <div style="margin-top: 1.5rem;">
                    <input type="text" id="share-link" readonly style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 0.5rem; background: var(--darker-bg); color: var(--text-primary); font-size: 0.9rem;">
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-modal" onclick="closeEditProfileModal()">&times;</span>
            <div class="modal-body">
                <h2>‚úèÔ∏è Profili D√ºzenle</h2>
                <form id="editProfileForm" onsubmit="submitProfileEdit(event)">
                    <div class="form-group">
                        <label>Kullanƒ±cƒ± Adƒ±</label>
                        <input type="text" id="edit-username" disabled style="background: var(--darker-bg); color: var(--text-muted); cursor: not-allowed;">
                        <small style="color: var(--text-secondary);">Kullanƒ±cƒ± adƒ± deƒüi≈ütirilemez</small>
                    </div>
                    <div class="form-group">
                        <label>E-posta</label>
                        <input type="email" id="edit-email" disabled style="background: var(--darker-bg); color: var(--text-muted); cursor: not-allowed;">
                        <small style="color: var(--text-secondary);">E-posta deƒüi≈ütirilemez</small>
                    </div>
                    <div class="form-group">
                        <label>Biyografi</label>
                        <textarea id="edit-bio" rows="4" maxlength="500" placeholder="Kendiniz hakkƒ±nda birka√ß kelime..." style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 0.5rem; background: var(--darker-bg); color: var(--text-primary); resize: vertical;"></textarea>
                        <small style="color: var(--text-secondary);" id="bio-char-count">0 / 500 karakter</small>
                    </div>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            ‚úì Kaydet
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="closeEditProfileModal()">
                            ƒ∞ptal
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add to Custom List Modal -->
    <div id="add-to-list-modal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-modal" onclick="closeAddToListModal()">&times;</span>
            <div class="modal-body">
                <h2>üìù √ñzel Listeye Ekle</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Bu i√ßeriƒüi eklemek istediƒüiniz listeyi se√ßin:</p>
                
                <div id="custom-lists-container" style="max-height: 300px; overflow-y: auto;">
                    <div class="loading">Listeler y√ºkleniyor...</div>
                </div>
                
                <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 2px solid var(--border-color);">
                    <button class="btn btn-primary" onclick="showCreateListForm()" style="width: 100%;">
                        ‚ûï Yeni Liste Olu≈ütur
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- List Detail Modal -->
    <div id="list-detail-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeListDetailModal()">&times;</span>
            <div id="list-detail-body" class="modal-body">
                <div class="loading">Y√ºkleniyor...</div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
</body>
</html>

